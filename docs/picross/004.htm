<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=778">
		<title>ガンジーのイラストロジック No.4</title>
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@GungeeSpla" />
		<meta name="twitter:title" content="ガンジーのイラストロジック No.4" />
		<meta name="twitter:description" content="イラストロジックで遊んでみよう！" />
		<meta name="twitter:image" content="https://gungeespla.github.io/salmon_learn/picross/004.png" />
	</head>
	<body>
		<!--　　　　　　　イラストロジックここから　　　　　　　-->
		<div style="white-space: nowrap;width:100%; text-align:center; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;">
		<h1></h1>
		<canvas id="pz_uDjpgR" width="768" height="1008"></canvas>
		<div style="position:relative; line-height:1em; margin-top:-3em;"><small>Created by ガンジー<br>Powered by <a href="http://hp.vector.co.jp/authors/VA029904/oemoba/" target="_blank">お絵かきロジック工房Mobile</a></small></div>
		<p><small>操作方法：クリックするごとに塗り→バツ→消しを切り替えます。</small></p>
		</div>
		<script type="text/javascript">
			function mf_8eiQjQ(){var pcs = document.getElementById('pz_uDjpgR');var pcx = pcs.getContext('2d');var of = document.createElement('canvas');of.width = pcs.width;
			of.height = pcs.height;var ofc = of.getContext('2d');var pm=0;var ct=0;var pf=0;var cpx=0;var cpy=0;var cv=true;var sp=0;var pp=0;var ds=24;var fmx=20;
			var fmy=15;var fx=216;var fy=192;c1="#FFFFFF";c2="#CCE4FF";cw="#FFFFFF";cfb="rgba(255,255,255,0.50)";cl="#AAAAAA";cm="#CC2222";cf="#000000";cc="rgba(0,207,255,0.24)";
			ccC="#00CFFF";cs="#444444";cb1="#FFFFFF";cb2="#CCCCCC";var ps=153;var pdx=ps+24;var pdy=fy+fmy*ds+96+ps;var bs=128;var pbx=pcs.width-bs-24;var pby=fy+fmy*ds+96+ps;
			if (ps>bs)pbx-=(ps-bs);var ln=[[4,4],[1,6,1],[1,1],[2,1,1,2],[1,1,1,7],[1,3,3,1,2,2],[1,4,3,1,2],[2,1,1,3,2,1],[3,3,3,3,1],[1,7,2,1],[1,1,2,1],[1,7,1],
			[10,1,1,1],[1,1,1,5,2],[3,4,4]];var tn=[[8,1,2],[1,1,2,1,3],[1,1,1,1,1],[2,1,1,1,1,1],[1,1,3,1,2],[1,1,1,2,1],[1,1,2,1],[1,6,3],[2,1,1,1,1,1],[1,1,2,2,
			1],[1,1,3,1,1],[9,3],[1,2,2,1],[3,3,1],[2,2,1,1],[1,1,1,4],[1,2,1],[2,1,1],[2,2],[8]];var lnm=6;var tnm=6;var pc=['SII8yyoeeUKKUchAINqy3WejsiiYOOE44ukku27ainGOTw49ckpIQVy6Bemr',
			'I88KDBvkkKAA0qqgWWMCC2ssiYYkdbLAAkaaksxQYd6EJmuzSaf8GLow1Uch','8yy5uueUURGG7wwnccTII9yypeeOEEB00aQQainGOTw49ckpIQVy6BemrKSX','yooeUUbQQH66gWWdSSJ88zooOEELAAkaaQGGQYd6EJmuzSaf8GLow1UchAIN',
			'oeelaaRGG7wwnccC229yyYOOVKKB00rggG66wmmvccI88yooeUUKAAKSX08D','eUUbQQ0qqgWWMCCJ88zooOEE4uukaahWW6ww3sslSSR885uulaaA00qggqy3','UKKKAA7wwnccC22siiYOOE44B00rggXMMwmmvccbIIRE8xeebQQH66gWWMCC',
			'KAA0qqqggdSS2sssiiYOO4uu1qqaQQ6ww5mmlSSbOIH4yxkeTAA9qqnccC22','Uch9pppVVVBB2ssYOOE44ukkkaaG66FwwvcclYSRE8xeedKKJ00xmmdSS2ss','J009wqqkiVHC1iihOON443kkjQQP665mmvicbOI7oonUURGG7wwnccTIIsii',
			'AINpWWfRM1nn1nihTONA43qkjWQPC65smlYSHyyeUUUKKA00xmmdSSJ88iYY','zggpcWVHCBxsrdYXJED0utgaZMG5mmlSSR88oeeUKKA00qggnccTII9yyYOO','pWWVCCBssrYYXEEDuutaaZGGFwwvccSIIyooiaaOGG4wwgWWWMMC22siiOEE',
			'got2sssiiYOO4uu4CHksx6wwwmmcSSI88oeeUKKA00qggWMMMCC2ssYOOE44','WejsiiYOOE44EMRu27ainwmmcSSI88yooy6BemrKSX08DMCC2ssiYYOEEOWb'];var manual=["スマートフォン専用コントローラを",
			"使用する場合はここをタップしてください！"];var map = new Array(fmx);for(i=0;i<fmx;i++){map[i]=new Array(fmy);for(j=0;j<fmy;j++)map[i][j]=0;}if(c1==c2){
			ofc.fillStyle=c1;}else{var bbc=ofc.createLinearGradient(0,0,0,pcs.height);bbc.addColorStop(0.0,c1);bbc.addColorStop((fy+fmy*ds+10)/pcs.height,c2);ofc.fillStyle=bbc;
			}ofc.fillRect(0, 0, of.width, of.height);function tud(){ofc.beginPath();if(cb1==cb2){ofc.fillStyle=cb1;}else{var pbc=ofc.createLinearGradient(pdx,pdy-ps,
			pdx,pdy+ps);pbc.addColorStop(0.0,cb1);pbc.addColorStop(1.0,cb2);ofc.fillStyle=pbc;}ofc.lineWidth=2;ofc.arc(pdx,pdy,ps,0,Math.PI*2);ofc.fill();ofc.strokeStyle=cs;
			ofc.stroke();ofc.beginPath();ofc.arc(pdx,pdy,ps-2,0,Math.PI*2);ofc.strokeStyle=cb1;ofc.stroke();ofc.strokeStyle=cs;for(var i=0;i<2;i++){ofc.lineWidth=2-i;
			if(i==0)ofc.strokeStyle=cb1;else ofc.strokeStyle=cs;ofc.beginPath();ofc.moveTo(pdx-ps/1.5,pdy-ps/1.5-i*2+1);ofc.lineTo(pdx+ps/1.5,pdy+ps/1.5-i*2+1);ofc.moveTo(pdx+ps/1.5,
			pdy-ps/1.5-i*2+1);ofc.lineTo(pdx-ps/1.5,pdy+ps/1.5-i*2+1);ofc.stroke();}ofc.fillStyle=cs;ofc.beginPath();for(var i=0; i<4; i++){ofc.moveTo(pdx+Math.sin(Math.PI/2*i)*ps*0.9,
			 pdy+Math.cos(Math.PI/2*i)*ps*0.9);ofc.lineTo(pdx+Math.sin(Math.PI/2*i+0.3)*ps*0.6, pdy+Math.cos(Math.PI/2*i+0.3)*ps*0.6);ofc.lineTo(pdx+Math.sin(Math.PI/2*i-0.3)*ps*0.6,
			 pdy+Math.cos(Math.PI/2*i-0.3)*ps*0.6);}ofc.fill();ofc.beginPath();ofc.arc(pbx,pby,bs,0,Math.PI*2);ofc.fillStyle=pbc;ofc.strokeStyle=cs;if (ps>bs){ofc.lineWidth=(ps-bs)*2;
			ofc.stroke();ofc.fill();}else{ofc.fill();ofc.lineWidth=2;ofc.stroke();}ofc.beginPath();ofc.lineWidth=2;ofc.strokeStyle=cb1;ofc.arc(pbx,pby,bs-1,0,Math.PI*2);
			ofc.stroke();ofc.lineWidth=1;ofc.strokeStyle=cs;ofc.beginPath();ofc.fillStyle=cs;ofc.moveTo(pbx+bs/7+Math.sin(0.2)*bs*0.6, pby-bs/7-Math.cos(0.2)*bs*0.6);
			ofc.lineTo(pbx+bs/7+Math.sin(Math.PI/2-0.2)*bs*0.6, pby-bs/7-Math.cos(Math.PI/2-0.2)*bs*0.6);ofc.lineTo(pbx+bs/7-Math.sin(0.2)*bs*0.6, pby-bs/7+Math.cos(0.2)*bs*0.6);
			ofc.lineTo(pbx+bs/7-Math.sin(Math.PI/2-0.2)*bs*0.6, pby-bs/7+Math.cos(Math.PI/2-0.2)*bs*0.6);ofc.fill();ofc.strokeStyle=cs;ofc.stroke();ofc.beginPath();
			ofc.moveTo(pbx+bs/7-Math.sin(0.2)*bs*0.6, pby-bs/7+Math.cos(0.2)*bs*0.6);ofc.lineTo(pbx+bs/7-Math.sin(Math.PI/4)*bs, pby-bs/7+Math.cos(Math.PI/4)*bs);ofc.lineTo(pbx+bs/7-Math.sin(Math.PI/2-0.2)*bs*0.6,
			 pby-bs/7+Math.cos(Math.PI/2-0.2)*bs*0.6);ofc.strokeStyle=cs;ofc.stroke();ofc.beginPath();ofc.fillStyle=cs;ofc.moveTo(pbx+bs/7-Math.sin(Math.PI/4+0.18)*bs*0.8,
			 pby-bs/7+Math.cos(Math.PI/4+0.18)*bs*0.8);ofc.lineTo(pbx+bs/7-Math.sin(Math.PI/4)*bs, pby-bs/7+Math.cos(Math.PI/4)*bs);ofc.lineTo(pbx+bs/7-Math.sin(Math.PI/4-0.18)*bs*0.8,
			 pby-bs/7+Math.cos(Math.PI/4-0.18)*bs*0.8);ofc.fill();}ofc.font = ""+parseInt(ds*5/7)+"px Arial";ofc.textAlign = "center";ofc.fillStyle=cw;ofc.fillRect(fx,
			 fy, ds*fmx, ds*fmy);ofc.fillStyle=cl;for(var i=1;i<fmx;i++)if(i%5!=0)ofc.fillRect(fx+i*ds, fy, 1, ds*fmy);for(var i=1;i<fmy;i++)if(i%5!=0)ofc.fillRect(fx,
			 fy+i*ds, ds*fmx, 1);ofc.fillStyle=cm;for(var i=5;i<fmx;i+=5)ofc.fillRect(fx+i*ds, fy, 1, ds*fmy);for(var i=5;i<fmy;i+=5)ofc.fillRect(fx, fy+i*ds, ds*fmx,
			 1);ofc.fillStyle = cfb;for(var i=0;i<fmx;i++)for(var j=1;j<=tnm;j++){ofc.fillRect(fx+i*ds+1,fy-j*ds+1,ds-1,ds-1);}for(var i=0;i<fmy;i++)for(var j=1;j<=lnm;j++){
			ofc.fillRect(fx-j*ds+1,fy+i*ds+1,ds-1,ds-1);}ofc.fillStyle = cf;ofc.fillRect(fx,fy,ds*fmx,1);ofc.fillRect(fx,fy,1,ds*fmy);ofc.fillRect(fx,fy+ds*fmy,ds*fmx,
			1);ofc.fillRect(fx+ds*fmx,fy,1,ds*fmy+1);for(var i=0;i<fmx;i++)for(var j=0;j<tn[i].length;j++){ofc.fillText(tn[i][j],fx+i*ds+ds/2,fy-(tn[i].length-j-1)*ds-ds/6,
			ds);}for(var i=0;i<fmy;i++)for(var j=0;j<ln[i].length;j++){ofc.fillText(ln[i][j],fx-(ln[i].length-j)*ds+ds/2,fy+(i+1)*ds-ds/6,ds);}updateField();pcs.addEventListener("touchstart",
			pcts,false);pcs.addEventListener("touchmove",pcts,false);pcs.addEventListener("touchend",pcts,false);pcs.addEventListener("touchcancel",pcts,false);pcs.addEventListener("mousedown",
			omd,false);pcs.addEventListener("mousemove",omd,false);pcs.addEventListener("mouseup",omu,false);pcs.addEventListener("mouseout",omo,false);var myTimer=setInterval(function(){
			if(pp==fmx+fmy){if(ct<-10)ct=-10;if(ct==-5)updateField();if(ct>=0){var lp=parseInt(fmy+6);var id=ct%lp;if(id<fmy){var mc=new Array(0,0,0);for(var i=0;i<fmx;i++){
			if(ct<lp){if(map[i][id]==1)pcx.fillStyle=cf;else pcx.fillStyle=cw;}else if(ct<lp*3){if((map[i][id]==1 && ct<lp*2)||(map[i][id]!=1 && ct>=lp*2)){for(var j=0;j<3;j++){
			mc[j]=pc[id].charCodeAt(i*3+j);if(mc[j]<58)mc[j]=((mc[j]-48)+i*20+id*10)%62*4+6;else if (mc[j]<91)mc[j]=((mc[j]-55)+i*20+id*10)%62*4+6;else mc[j]=((mc[j]-61)+i*20+id*10)%62*4+6;
			}pcx.fillStyle="rgb("+mc[0]+", "+mc[1]+", "+mc[2]+")";}else{continue;}}if(ct<lp*3)pcx.fillRect(fx+i*ds,fy+id*ds,ds+(i==fmx-1),ds+(id==fmy-1));}}if (ct==lp*3){
			pcx.font="bold "+ds+"px sans-serif";pcx.textAlign="center";pcx.strokeStyle = '#FFFFFF';pcx.lineWidth = 4; pcx.lineJoin = 'round';pcx.fillStyle = '#000000';
			pcx.strokeText(String.fromCharCode(0x30AF, 0x30DE, 0x30B5, 0x30F3),fx+fmx*ds/2,fy+fmy*ds+ds+4);pcx.fillText(String.fromCharCode(0x30AF, 0x30DE, 0x30B5,
			 0x30F3),fx+fmx*ds/2,fy+fmy*ds+ds+4);pcs.removeEventListener("touchstart",pcts);pcs.removeEventListener("touchmove",pcts);pcs.removeEventListener("touchend",
			pcts);pcs.removeEventListener("touchcancel",pcts);clearInterVal(myTimer);}}ct++;}else{if(ct>5 && (ct>10 || ct%2==0))moveCur();if(ct>0)ct++;}},80);function moveCur(loopFlag){
			_cu();cv=true;cpx+=pc_x;cpy+=pc_y;if(loopFlag){if(cpx<0)cpx=fmx-1;if(cpx>=fmx)cpx=0;if(cpy<0)cpy=fmy-1;if(cpy>=fmy)cpy=0;}else{if(cpx<0)cpx=0;if(cpx>=fmx)cpx=fmx-1;
			if(cpy<0)cpy=0;if(cpy>=fmy)cpy=fmy-1;}if(pf&16)paint();dc();}function du(waku){pcopy(fx+cpx*ds+1,fy+cpy*ds+1,ds-1,ds-1);if(waku){pcx.fillStyle=cw;pcx.fillStyle=ccC;
			for(var i=0;i<2;i++)pcx.fillRect(fx+cpx*ds+1,fy+cpy*ds+1,ds-1,ds-1);pcopy(fx+cpx*ds+1+waku,fy+cpy*ds+1+waku,ds-1-waku*2,ds-1-waku*2);}}function dc(){pcx.fillStyle=cc;
			pcx.fillRect(fx+cpx*ds+1,fy-tnm*ds+1,ds-1,tnm*ds-1);pcx.fillRect(fx-lnm*ds+1,fy+cpy*ds+1,lnm*ds-1,ds-1);du(2);}function updateField(){pcx.drawImage(of,
			 0, 0);if(pp<fmx+fmy){cv=true;dc();}if(sp<2 && pp<fmx+fmy){var myfs=parseInt(of.width/26);pcx.font = ""+myfs+"px sans-serif";pcx.fillStyle = c2;pcx.fillRect(pdx-ps*0.4,
			pdy-ps*0.15 , pcs.width-pdx,(manual.length+0.8)*myfs*1.2);pcx.fillStyle = cf;for(var i=0;i<manual.length;i++){pcx.fillText(manual[i],pdx-ps*0.34,pdy+i*myfs*1.2+myfs*0.5,
			pcs.width-pdx*1.1);}pcx.fillRect(pdx-ps,pdy-ps*0.22,ps*0.5,ps);pcx.fillStyle=c2;pcx.fillRect(pdx-ps*0.95,pdy-ps*0.18,ps*0.4,ps*0.85);for(var i=-1;i<2;i++)pcx.fillRect(pdx-ps*0.77+i*ps*0.125,
			pdy+ps*0.7,ps*0.04,ps*0.04);}}function omd(eve){if(eve.type=="mousedown"){pf|=256;pm=(map[cpx][cpy]+1)%3;}var olf=pf;_pa();var rect = eve.target.getBoundingClientRect();
			var myX=parseInt(eve.clientX-rect.left);var myY=parseInt(eve.clientY-rect.top);if (myY>fy+ds*fmy){if(sp>=2){if(cv==false){dc();cv=true;}}else{if(cv==true){
			cv=false;_cu();}}}else{if(cv)if(myX<fx || myY<fy || myX>=fx+fmx*ds || myY>=fy+fmy*ds){cv=false;_cu();}}if(pf&256){pf=256;if (myY>fy+ds*fmy){if(sp>=2)if (padCtrlExe(myX,
			myY)==0){ct=0;pf=0;}if(pf&16)paint();if(olf%16!=pf%16 && pf%16!=0){ct=1;moveCur((eve.type=="mousedown") & ((pf&16)==0));}}else{if(point(myX,myY))paint();
			}}else{if (myY<=fy+ds*fmy){point(myX,myY);}ct=0;pf=0;}}function point(mouseX,mouseY){if(pp<fmx+fmy){mouseX-=fx;mouseY-=fy;if (mouseX>=0 & mouseY>=0){mouseX=parseInt(mouseX/ds);
			mouseY=parseInt(mouseY/ds);if (mouseX<fmx && mouseY<fmy){_cu();pc_x=0;pc_y=0;cpx=mouseX;cpy=mouseY;dc();cv=true;return true;}}}return false;}function omu(eve){
			pf=0;ct=0;_pa();}function omo(eve){pf=0;ct=0;_pa();if(cv){_cu();cv=false;}}function pcts(eve){var olf=pf;_pa();pf=0;var rect = eve.target.getBoundingClientRect();
			var touchAry = eve.touches;var pir=false;var ilF=false;if(sp==1)if(eve.type=="touchend"){if(eve.changedTouches[0].clientY-rect.top>pdy-ds){sp=2;tud();updateField();
			pir=false;pf=0;eve.preventDefault();return;}}for(var i=0;i<touchAry.length;i++){var pts=touchAry[i];var myX=parseInt(pts.clientX-rect.left);var myY=parseInt(pts.clientY-rect.top);
			if (myY>fy+ds*fmy){if(sp<2){if(eve.type=="touchstart")sp=1;}else{ilF=true;if (padCtrlExe(myX,myY)==1)pir=true;}}else{if (sp==1)sp=0;if (point(myX,myY)){
			ilF=true;pf|=16;}else{if (pp==fmx+fmy)if(myX>fx && myY>fy)ilF=true;}}}if(ilF)eve.preventDefault();if(pp==fmx+fmy)return;if(eve.type=="touchstart" && (olf&16)==0 && (pf&16)!=0){
			pm=(map[cpx][cpy]+1)%3;}if (pf%16==0 && pir==false)ct=0;if(eve.type=="touchstart" || eve.type=="touchmove")if(pf&16)paint();if((olf%16!=pf%16) && (pf%16!=0)){
			ct=1;moveCur((eve.type=="touchstart") & ((pf&16)==0));}}function paint(){if (pm!=1 || map[cpx][cpy]!=2){if (pm==1)ofc.fillStyle=cf;else ofc.fillStyle=cw;
			map[cpx][cpy]=pm;ofc.fillRect(fx+cpx*ds+1,fy+cpy*ds+1,ds-1,ds-1);if (pm==2){ofc.beginPath();ofc.lineWidth=0.5; ofc.strokeStyle=cf;ofc.moveTo(fx+cpx*ds+3,
			fy+cpy*ds+3);ofc.lineTo(fx+cpx*ds+ds-2,fy+cpy*ds+ds-2);ofc.moveTo(fx+cpx*ds+ds-2,fy+cpy*ds+3);ofc.lineTo(fx+cpx*ds+3,fy+cpy*ds+ds-2);ofc.stroke();}du(2);
			pp=0;for(var i=0;i<fmx;i++){var cnt=0;var id=0;for(var j=0;j<fmy;j++)if (map[i][j]==1)cnt++;else if(cnt>0){if(id>=tn[i].length){pp=-1;break;}else if(tn[i][id]!=cnt){pp=-1;break;}
			id++;cnt=0;}if(tn[i][0]==0 && id==0 && cnt==0)id=1;if(pp==-1)break;if(cnt>0)if(id!=tn[i].length-1){pp=-1;break;}else if(tn[i][id]!=cnt){pp=-1;break;}else id++;
			if(id!=tn[i].length){pp=-1;break;}else pp++;}if (pp>-1)for(var i=0;i<fmy;i++){var cnt=0;var id=0;for(var j=0;j<fmx;j++)if (map[j][i]==1)cnt++;else if(cnt>0){
			if(id>=ln[i].length){pp=-1;break;}else if(ln[i][id]!=cnt){pp=-1;break;}id++;cnt=0;}if(ln[i][0]==0 && id==0 && cnt==0)id=1;if (pp==-1)break;if(cnt>0)if(id!=ln[i].length-1){pp=-1;break;}else if(ln[i][id]!=cnt){pp=-1;break;}else id++;
			if(id!=ln[i].length){pp=-1;break;}else pp++;}if(pp==fmx+fmy){pcs.removeEventListener("mousedown",omd);pcs.removeEventListener("mousemove",omd);pcs.removeEventListener("mouseup",
			omu);pcs.removeEventListener("mouseout",omo);ct=-1000;}}}function padCtrlExe(ptX,ptY){if(pp<fmx+fmy){var len=Math.sqrt(Math.pow(ptX-pdx,2)+Math.pow(ptY-pdy,
			2));if(len<ps*1.4){if (len>ps*0.2){var tan=Math.atan2(ptY-pdy,ptX-pdx);if(Math.abs(tan)<Math.PI/4){var tan4=0.0;pc_x=1;pc_y=0;pf|=4;}else{if (Math.abs(tan)>Math.PI*0.75){
			var tan4=Math.PI;pc_x=-1;pc_y=0;pf|=1;}else{if (tan>0){pc_x=0;pc_y=1;var tan4=Math.PI/2;pf|=8;}else{var tan4=-Math.PI/2;pc_x=0;pc_y=-1;pf|=2;}}}pcx.beginPath();
			pcx.moveTo(pdx,pdy);pcx.fillStyle="rgba(255,255,255,0.5)";pcx.arc(pdx,pdy,ps-1,tan4-0.78,tan4+0.78);pcx.fill();}return 1;}else{var len=Math.sqrt(Math.pow(ptX-pbx,
			2)+Math.pow(ptY-pby,2));if(len<bs*1.4){pcx.beginPath();pcx.fillStyle="rgba(255,255,255,0.5)";pcx.arc(pbx,pby,bs-1,0,Math.PI*2);pcx.fill();pf|=16;return 2;
			}}}return 0;}function _cu(){pcopy(fx+cpx*ds,fy-tnm*ds,ds,tnm*ds);pcopy(fx-lnm*ds,fy+cpy*ds,lnm*ds,ds);du(0);}function _pa(){if(sp<2)return;pcopy(pdx-ps-1,
			pdy-ps-1, ps*2+2,ps*2+2);pcopy(pbx-bs-1,pby-bs-1, bs*2+2,bs*2+2);}function pcopy(x1,y1,x2,y2){pcx.drawImage(of,x1,y1,x2,y2,x1,y1,x2,y2);}}mf_8eiQjQ();
			
		</script>
		<!--　　　　　　　イラストロジックここまで　　　　　　　-->
	</body>
</html>
